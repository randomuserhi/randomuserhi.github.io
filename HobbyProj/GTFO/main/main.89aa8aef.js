RHU.import(RHU.module({trace:new Error,name:"Enemy List",hard:["RHU.Macro","RHU.Rest"],callback:function(){let{RHU:e}=window.RHU.require(window,this),t=new Map;{let e=new Image;e.src="./icons/general/checkpoint.png",t.set("checkpoint",e)}let n=function(){};n.prototype.load=function(t,n,l){if(this.name.innerHTML=t.name,this.state.innerHTML=e.exists(t.breaker)?"Broken":"Intact",this.gear.src=e.exists(t.breakerGear)?`./icons/gear/${t.breakerGear}.webp`:"",e.exists(t.breaker)){let n=l.allPlayers.get(t.breaker);this.player.innerHTML=e.exists(n)?n.name:""}let a=0;for(let e in t.gears){a+=t.gears[e].damage}this.damage.innerHTML=`${a.toFixed(2)}`,0===a&&(this.style.display="none");let i=new DocumentFragment;{let e=document.createElement("tr"),t=document.createElement("td");t.style.paddingBottom="0.5rem";let n=document.createElement("td");n.style.paddingLeft="2rem",n.style.paddingBottom="0.5rem";let l=document.createElement("td");l.style.paddingLeft="2rem",l.style.paddingBottom="0.5rem",t.innerHTML="<u>Player</u>",n.innerHTML="<u>Gear</u>",l.innerHTML="<u>Damage</u>",e.append(t,n,l),i.append(e)}for(let n in t.gears){let a=t.gears[n],r=l.allPlayers.get(a.playerID);if(e.exists(a)&&e.exists(r)&&a.damage>0){let e=document.createElement("tr"),t=document.createElement("td");t.style.paddingBottom="0.5rem";let n=document.createElement("td");n.style.paddingLeft="2rem",n.style.paddingBottom="0.5rem";let l=document.createElement("td");l.style.paddingLeft="2rem",l.style.paddingBottom="0.5rem",t.innerHTML=`<span>${r.name}</span>`,n.innerHTML=`<img style="width: 4rem;" src="./icons/gear/${a.name}.webp"></img>`,l.innerHTML=`${a.damage.toFixed(2)}`,e.append(t,n,l),i.append(e)}}this.damageTable.replaceChildren(i)},e.Macro(n,"limbSummary",'\n            <h2 rhu-id="name" style="padding-top: 2rem; padding-bottom: 1rem;">Unknown</h2>\n            <ul style="display: flex; gap: 2.5rem; align-items: center;">\n                <li style="display: flex; gap: 1rem;">\n                    Damage <span rhu-id="damage" style="color: #e9bc29;">0</span>\n                </li>\n                <li style="display: flex; gap: 1rem;">\n                    <span rhu-id="state" style="">0</span>\n                </li>\n                <li style="display: flex; gap: 1rem;">\n                    <img rhu-id="gear" style="width: 4rem;"/>\n                </li>\n                <li style="display: flex; gap: 1rem;">\n                    <span rhu-id="player" style="color: #e9bc29;"></span>\n                </li>\n            </ul>\n            <table rhu-id="damageTable" style="margin-top: 1rem;"> \x3c!-- damage, gear, player --\x3e\n            </table>\n            ',{element:"<li></li>"});let l=function(){this.toggle.addEventListener("click",(()=>{"none"===this.limb.style.display?this.limb.style.display="block":this.limb.style.display="none"}))};l.prototype.load=function(t,n){let l=0,a={};for(let i of n.allPlayers.values()){i.playerID in a||(a[i.playerID]=0);for(let n of i.damageTimeline.filter((n=>e.exists(n.enemyInstanceID)&&n.enemyInstanceID===t.instanceID)))a[i.playerID]+=n.damage,l+=n.damage}this.damage.innerHTML=`${Math.round(l/25*100)}`;let i=new DocumentFragment;{let e=document.createElement("tr"),t=document.createElement("td");t.style.paddingBottom="0.5rem";let n=document.createElement("td");n.style.paddingLeft="2rem",n.style.paddingBottom="0.5rem",t.innerHTML="<u>Player</u>",n.innerHTML="<u>Damage</u>",e.append(t,n),i.append(e)}for(let t in a){let l=n.allPlayers.get(t);if(e.exists(l)&&a[t]>0){let e=document.createElement("tr"),n=document.createElement("td");n.style.paddingBottom="0.5rem";let r=document.createElement("td");r.style.paddingLeft="2rem",r.style.paddingBottom="0.5rem",n.innerHTML=`${l.name}`,r.innerHTML=`<span style="color: #e9bc29;">${Math.round(a[t]/25*100)}</span>`,e.append(n,r),i.append(e),this.table.style.display="block"}}this.damageTable.replaceChildren(i),i=new DocumentFragment;{let e=document.createElement("tr"),t=document.createElement("td");t.style.paddingBottom="0.5rem";let n=document.createElement("td");n.style.paddingLeft="2rem",n.style.paddingBottom="0.5rem",t.innerHTML="<u>Player</u>",n.innerHTML="<u>Damage</u>",e.append(t,n),i.append(e)}let r={};for(let e in t.limbData){let n=t.limbData[e];for(let e in n.gears){let t=n.gears[e];t.playerID in r||(r[t.playerID]=0),r[t.playerID]+=t.damage}}for(let t in r){let l=n.allPlayers.get(t);if(e.exists(l)&&r[t]>0){let e=document.createElement("tr"),n=document.createElement("td");n.style.paddingBottom="0.5rem";let a=document.createElement("td");a.style.paddingLeft="2rem",a.style.paddingBottom="0.5rem",n.innerHTML=`${l.name}`,a.innerHTML=`<span style="color: #e9bc29;">${r[t].toFixed(2)}</span>`,e.append(n,a),i.append(e),this.table2.style.display="block"}}this.damagetakenTable.replaceChildren(i),i=new DocumentFragment;for(let e in t.limbData){let l=t.limbData[e],a=document.createMacro("limbSummary");a.load(l,t,n),i.append(a)}this.limbTable.replaceChildren(i)},e.Macro(l,"enemySummary",'\n            <div rhu-id="table" style="display: none;">\n                <div style="margin-bottom: 1rem">\n                    <ul style="display: flex; gap: 2.5rem;">\n                        <li style="display: flex; gap: 1rem;">\n                            Damage Dealt <span rhu-id="damage" style="color: #e9bc29;">67.95</span>\n                        </li>\n                        <li style="display: flex; gap: 1rem;">\n                        </li>\n                        <li style="display: flex; gap: 1rem;">\n                        </li>\n                    </ul>\n                </div>\n\n                <table rhu-id="damageTable">\n                </table>\n            </div>\n            <div rhu-id="table2" style="display: none; margin-top: 2rem;">\n                <h3>Damage taken:</h3>\n                <table rhu-id="damagetakenTable" style="margin-top: 0.5rem;">\n                </table>\n            </div>\n            <button rhu-id="toggle" style="margin-top: 0.5rem; padding-top: 0.6rem; padding-bottom: 0.6rem; font-size: 17px;">LIMBS</button>\n            <div rhu-id="limb" style="display: none;">\n                <ul rhu-id="limbTable">\n                </ul>\n            </div>\n            ',{element:'<div style="\n                    border-top-style: solid;\n                    border-top-width: 1px;\n                    border-color: #3b3b3b;\n                    grid-column: 1 / 8;\n                    margin-top: 1rem;\n                    padding-top: 1rem;\n                    margin-bottom: 2rem;"></div>'});let a=function(){this.loaded=!1,this.collection=new Map};a.prototype.load=function(t,n){if(!this.loaded&&(this.loaded=!0,this.report=t,this.report=t,this.enemies=[...t.enemies.values()],e.exists(n)&&(this.enemies=this.enemies.filter(n)),this.enemies.length>0)){let n=new DocumentFragment;for(let l of this.enemies){let a="";!l.alive&&e.exists(l.killerGear)&&(a=`\n                            <img style="width: 4rem;" src="./icons/gear/${l.killerGear}.webp"/>\n                        `);let i=e.Macro.parseDomString(`\n                            <div>\n                                <img style="width: 4rem;" src="./icons/enemies/${l.type}.png"/>\n                            </div>\n                            <div style="">\n                                ${l.name}\n                            </div>\n                            <div style="">\n                                ${l.type}\n                            </div>\n                            <div style="">\n                                ${l.alive?"Alive":"Dead"}\n                            </div>\n                            <div style="color: rgb(200, 173, 98);">\n                                ${l.alive?"":timeToString(l.timestamp)}\n                            </div>\n                            <div>\n                                ${a}\n                            </div>\n                            <div style="">\n                                ${!l.alive&&e.exists(l.killer)?"<span style='color: #e9bc29;'>"+t.allPlayers.get(l.killer).name+"</span>":""}\n                            </div>\n                        `),r=i.children[0];this.collection.set(l.name,r),n.append(i);let d=document.createMacro("enemySummary");d.load(l,t),n.append(d)}this.list.replaceChildren(n),this.style.display="block"}},a.prototype.goTo=function(e){if(this.collection.has(e)){this.collection.get(e).scrollIntoView({behavior:"smooth"})}},e.Macro(a,"enemyList",'\n            <div style="\n                display: grid;\n                grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n                align-items: center;\n            " rhu-id="list"></div>\n            ',{element:'<div style="display: none"></div>'})}}));
//# sourceMappingURL=main.89aa8aef.js.map
